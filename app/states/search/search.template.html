<div class="wdd-secondary-header">
    <h2 class="title">Consultazione</h2>
</div>
<div class="search-page">
    <wdd-filter applied-filter="vm.filterChanged(filterApplied)" show-status-input="true"></wdd-filter>

    <!-- <div class="spinner-search" ng-show="!vm.showTabsWhileReloading && ((vm.firstTable.$$state && vm.firstTable.$$state.status == 0) || (vm.secondTable.$$state && vm.secondTable.$$state.status == 0))" wdd-spinner="[vm.firstTable.$$state, vm.secondTable.$$state]" spinner-style="floating"></div> -->
    <div class="tabbed-tables" >
        <div class="table-tab-holder wdd-primary-header" ng-show="vm.showTab" ng-style="{ 'width': vm.showEntityView ? '500px': '250px' }">
            <div class="table-tab wdd-tab" ng-class="{'selected': vm.selectedTab == 0}" ng-click="vm.changeTab(0)">
                <span>Vista Dato</span>
            </div>
            <div class="table-tab wdd-tab" ng-class="{'selected': vm.selectedTab == 2}" ng-click="vm.changeTab(2)">
                <span>Vista Business</span>
            </div>
            <div class="table-tab wdd-tab" ng-class="{'selected': vm.selectedTab == 1}" ng-click="vm.changeTab(1)" ng-show="vm.showEntityView">
                <span>Vista Entit√†</span>
            </div>
        </div>
        <div ng-show="vm.selectedTab == 0">
            <wdd-table reload-data="vm.reloadTableData" table-key="searchPage" header-array-obj="{{ {array: vm.headerTable} }}" pagination-bool="{{ {boolean: vm.tablePagination} }}"
                page-size-num="{{ {number: vm.tablePageSize} }}" has-primary-navigation-btn="true" path-primary-navigation="tab.dataDetail"
                has-secondary-navigation-btn="true" path-secondary-navigation="tab.dataLineage" has-ternary-navigation-btn="true"
                path-ternary-navigation="tab.dataLineage" navigation-in-popover="true" has-relation-modal="true" is-to-sas="true" promise="vm.firstTable" text-spinner="true" allowed-columns-data-lineage="['data_field', 'tech_rule']" sortable-table="true" sortable-table-type="data"></wdd-table>
        </div>
        <div ng-show="vm.selectedTab == 2">
            <wdd-table reload-data="vm.reloadTableBusiness" table-key="searchBusiness" header-array-obj="{{ {array: vm.headerBusinessTable} }}" pagination-bool="{{ {boolean: vm.tablePagination} }}"
                page-size-num="{{ {number: vm.tablePageSize} }}" has-primary-navigation-btn="true" path-primary-navigation="tab.dataDetail"
                has-secondary-navigation-btn="true" path-secondary-navigation="tab.dataLineage" has-ternary-navigation-btn="true" path-ternary-navigation="tab.dataLineage"
                navigation-in-popover="true" has-relation-modal="true" is-to-sas="true" promise="vm.thirdTable" text-spinner="true" allowed-columns-data-lineage="['data_field']" sortable-table="true" sortable-table-type="data"></wdd-table>
        </div>
        <div ng-show="vm.selectedTab == 1">
            <wdd-table reload-data="vm.reloadTableEntity" table-key="searchEntity" header-array-obj="{{ {array: vm.headerEntityTable} }}"
                pagination-bool="{{ {boolean: vm.tablePagination} }}" page-size-num="{{ {number: vm.tablePageSize} }}" has-primary-navigation-btn="true"
                path-primary-navigation="tab.dataDetail" has-ternary-navigation-btn="true" has-relation-modal="true" is-to-sas="true" promise="vm.secondTable" text-spinner="true" sortable-table="true" sortable-table-type="entity"></wdd-table>
        </div>
    </div>
</div>