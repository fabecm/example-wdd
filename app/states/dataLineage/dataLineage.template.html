<div class="wdd-secondary-header">
    <button class="wdd-button icon-only right-spacer" ng-click="vm.back()">
        <i class="icon icon-left-arrow"></i>
    </button>
    <h2 class="title">Data Lineage</h2>
    <button class="align-right wdd-button icon-only right-spacer auto-width" ng-click="vm.downloadModelloDati()">
        <i class="icon icon-download"></i>
            Modello Dati
    </button>
</div>
<div class="data-lineage-page">
    <div class="square-container" wdd-spinner="[vm.getLineageFieldPromise.$$state, vm.getLineageRulePromise.$$state]">

        <div class="square box-{{key}} {{box.colorClass}}" ng-class="{'hide-square': !box}" ng-repeat="(key, box) in vm.lineageBoxes track by $index">
            <div class="body">
                <div class="body-child">
                    <div class="title" tooltip-placement="top" tooltip-class="tooltip-test" uib-tooltip="{{box.tooltip}}" tooltip-enable="true">
                        <label>{{box.title}}</label>
                        <i ng-if="box.infoOperation" class="icon icon-workspace-details" ng-click="box.infoOperation(box.data.id, box.data.draft)"></i>
                    </div>
                    <div class="spacer" ng-class="{'interactive': box.operation, 'content-bold': box.contentBold}" ng-if="box.data.label && !box.data.length" ng-click="box.operation(item.id, item.draft)">
                        {{box.data.label}}
                    </div>
                    <div class="spacer" ng-class="{'interactive': box.operation}" ng-if="!box.data.label && box.data.length && box.data[0]" ng-repeat="item in box.data track by $index"
                        ng-click="box.operation(item.id, item.draft)">
    
                        <div ng-if="!box.showType" ng-class="{'content-bold': box.contentBold}">
                            <li ng-if="box.title === 'Program'">{{item.label}}</li>
                            <div ng-if="box.title !== 'Program'" tooltip-placement="top" tooltip-class="tooltip-test"
                            uib-tooltip="{{item.label}}" tooltip-enable="false" show-tooltip>{{item.label}}</div>
                        </div>
                        <div class="holder-type" ng-if="box.showType">
                            <label class="label-type">{{item.value}}</label>
                            <span class="content-bold">{{item.label}}</span>
                        </div>
    
                    </div>
    
                    <div class="holder-description" ng-if="box.hasDescription && box.data.rule">
                        <span class="description-label" class>Regola</span>
                        <div class="description-box">{{box.data.rule}}</div>
                    </div>
                </div>
            </div>

            <div class="arrow-bottom" tooltip-placement="left" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
            <div class="arrow-top" tooltip-placement="left" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
            <div class="arrow-left" tooltip-placement="top" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
            <div class="arrow-right" tooltip-placement="top" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>

            <div class="arrow-top-right" tooltip-placement="top" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
            <div class="arrow-top-left" tooltip-placement="top" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
            <div class="arrow-bottom-right" tooltip-placement="top" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
            <div class="arrow-bottom-left" tooltip-placement="top" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>

            <div class="arrow-bottom-half" tooltip-placement="left" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
            <div class="arrow-top-half" tooltip-placement="left" tooltip-class="tooltip-test" uib-tooltip="{{box.arrowTooltip}}" tooltip-enable="true"></div>
        </div>

    </div>
</div>